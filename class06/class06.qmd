---
title: "class06"
author: "Osirus Eisenman"
format: pdf
toc: TRUE
---

All functions in R have at least 3 things:

-A **name**, we pick this and use it to call our function,

-Input **arguments** (there can be multiple)

-The **body** lines of R code that do the work

## Our first (silly) function 

Write a function to add some numbers

```{r}
add<-function(x,y){
  x+y
}
```

Now we can call this function:

```{r}
add(c(10,10),100)
```

## A second function

Write a function to generate random nucleotide sequences of a user specified length:

The `sample()` function can be helpful here

```{r}
sample(c("A","C","G","t"), size=50, replace=T)
```

I want the a 1 element long character vector that looks like this "CACAGC" not "C" "A" "C" "A" "G" "C"

```{r}
v<-sample(c("A","C","G","T"), size=50, replace=T)
paste(v,collapse = "")
```

Turn this into my first wee function

```{r}
generate_dna<-function(size=50){
  v<-sample(c("A","C","G","T"), size=50, replace=T)
paste(v,collapse = "")
}
```

Test it:

```{r}
generate_dna(60)
```

```{r}
fasta<-T
if(fasta){
  cat("HELLO You!")
} else {
  cat("No you don't!")
}
```

Add a the ability to return a multi-element vector or a single element fasta like vector

```{r}
generate_fasta<-function(size=50,fasta=T){
  v<-sample(c("A","C","G","T"), size=size, replace=T)
  s<-paste(v,collapse = "")

if(fasta){
  return(s)
} else {
  return(v)
}
}
```

```{r}
generate_fasta(10,fasta=T)
```

## A protein generating function 

```{r}
generate_protein <- function(size = 50, fasta = TRUE) {
  # 20 standard single‑letter amino‑acid codes
  aa <- c(
    "A","R","N","D","C","E","Q","G","H","I",
    "L","K","M","F","P","S","T","W","Y","V"
  )
  
  # draw `size` residues with replacement
  seq_vec <- sample(aa, size = size, replace = TRUE)
  seq_str <- paste(seq_vec, collapse = "")

  if (fasta) {
    # simple FASTA header (">header") followed by the sequence
    paste0( seq_str)
  } else {
    seq_vec   # return as a character vector if you need the individual residues
  }
}

```

Test it

```{r}
generate_protein(6,fasta=T)
```

Use our new `generate_protein` function to make random protein sequences of length 6 to 12 (i.e. one length 6, one length 7, etc. up to 12

One way to do this is "brute force"

```{r}
generate_protein(6)
generate_protein(7)
generate_protein(8)
generate_protein(9)
```
A second way is to use:

```{r}
lengths<-6:12
lengths
```

```{r}
for (i in lengths) {
  cat(">",i,"\n",sep="")
  AA<-generate_protein(i)
  cat(AA)
  cat("\n")
}

```

Example of how to use **sep()** 

```{r}
paste(c("barry","monoka"),"R",sep="")
```
A third, and better, way to solve this is to use the `apply()` family of functions, specifically the `sapply` function in this case

```{r}
sapply(6:12,generate_protein,fasta=T)
```

